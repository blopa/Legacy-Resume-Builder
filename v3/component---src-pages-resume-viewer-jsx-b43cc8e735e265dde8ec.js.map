{"version":3,"sources":["webpack:///./src/components/A4Container.jsx","webpack:///./node_modules/gatsby/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","webpack:///./src/utils/gatsby-frontend-helpers.js","webpack:///./src/intl/index.js","webpack:///./src/pages/ResumeViewer.jsx","webpack:///./node_modules/classnames/index.js","webpack:///./src/components/ResumeTemplates lazy ^\\.\\/.*\\/Index$ namespace object"],"names":["useStyles","makeStyles","theme","a4Container","backgroundColor","palette","background","paper","width","minHeight","position","top","left","visibility","borderBottom","alignCenter","margin","alignLeft","marginLeft","A4Container","children","customHeight","classes","style","height","className","classNames","asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","value","error","done","Promise","then","_asyncToGenerator","fn","self","this","args","arguments","apply","err","undefined","getSnackbarMessage","localStorage","messageData","getItem","LOCALSTORAGE_MESSAGE_KEY","split","clearSnackbarMessage","removeItem","getCookieConsent","LOCALSTORAGE_COOKIE_CONSENT_KEY","LOCALSTORAGE_COOKIE_CONSENT_VALUE","setCookieConsentSeen","setItem","fetchGithubResumeJson","userName","url","fetch","method","response","text","isValidJsonString","jsonString","JSON","parse","translations","locale","messages","map","translation","createIntl","createIntlCache","ResumeViewer","params","uri","intl","useIntl","username","lang","template","pop","pageIntl","useMemo","newIntl","templateIntls","find","tempIntl","defaultLocale","resumeTemplate","setResumeTemplate","useState","state","dispatch","useContext","StoreContext","validTemplate","TEMPLATES_LIST","templateName","toLowerCase","hasData","isObjectNotEmpty","togglableJsonResume","jsonResume","useEffect","fetchResumeJsonAndLoadTemplate","navigate","traverseObject","setJsonResume","setTogglableJsonResume","Template","lazy","catch","importTemplate","uuid","resume","SEO","title","formatMessage","id","robots","fallback","hasOwn","hasOwnProperty","i","length","argType","push","Array","isArray","inner","toString","Object","prototype","call","join","module","exports","default","webpackAsyncContext","req","__webpack_require__","o","e","Error","code","ids","keys"],"mappings":";8FAAA,0DAIMA,EAAYC,YAAYC,IAAD,CACzBC,YAAa,CACTC,gBAAiBF,EAAMG,QAAQC,WAAWC,MAC1CC,MAAO,OACPC,UAAW,SACX,eAAgB,CAEZ,6BAA8B,QAC9BC,SAAU,WACVC,IAAK,EACLC,KAAM,EACNC,WAAY,qBACZ,MAAO,CACHA,WAAY,qBACZ,QAAS,CACL,eAAgB,CACZC,aAAc,YAMlCC,YAAa,CACTC,OAAQ,UAEZC,UAAW,CACPC,WAAY,+BACZ,eAAgB,CACZF,OAAQ,cAmCLG,IA9Bf,YAII,IAJiB,SACjBC,EADiB,aAEjBC,EAFiB,YAGjBN,GAAc,GACf,EACOO,EAAUtB,IACZuB,EAAQ,GAQZ,OANIF,IACAE,EAAQ,CACJC,OAAWH,EAAL,OAKV,yBACII,UAAWC,IACPJ,EAAQnB,YACR,CACI,CAACmB,EAAQP,aAAcA,EACvB,CAACO,EAAQL,YAAaF,IAG9BQ,MAAOA,GAENH,K,oCC9Db,SAASO,EAAmBC,EAAKC,EAASC,EAAQC,EAAOC,EAAQC,EAAKC,GACpE,IACE,IAAIC,EAAOP,EAAIK,GAAKC,GAChBE,EAAQD,EAAKC,MACjB,MAAOC,GAEP,YADAP,EAAOO,GAILF,EAAKG,KACPT,EAAQO,GAERG,QAAQV,QAAQO,GAAOI,KAAKT,EAAOC,GAIxB,SAASS,EAAkBC,GACxC,OAAO,WACL,IAAIC,EAAOC,KACPC,EAAOC,UACX,OAAO,IAAIP,SAAQ,SAAUV,EAASC,GACpC,IAAIF,EAAMc,EAAGK,MAAMJ,EAAME,GAEzB,SAASd,EAAMK,GACbT,EAAmBC,EAAKC,EAASC,EAAQC,EAAOC,EAAQ,OAAQI,GAGlE,SAASJ,EAAOgB,GACdrB,EAAmBC,EAAKC,EAASC,EAAQC,EAAOC,EAAQ,QAASgB,GAGnEjB,OAAMkB,OA/BZ,mC,4kOCcaC,EAAqB,KAE9B,GAA4B,oBAAjBC,aACP,MAAO,GAGX,IAAMC,EAAcD,aAAaE,QAAQC,KACzC,OAAIF,EACOA,EAAYG,MAAM,KAGtB,IAGEC,EAAuB,KAChCL,aAAaM,WAAWH,MAGfI,EAAmB,IAEA,oBAAjBP,aACA,KAGJA,aAAaE,QAAQM,OAAqCC,IAGxDC,EAAuB,KAChCV,aAAaW,QACTH,IACAC,MAIKG,EAAqB,8BAAG,UAAOC,GACxC,IAAMC,EAAG,qCAAwCD,EAAxC,gCAQT,aAPqBE,MAAMD,EAAK,CAC5BE,OAAQ,QACT3B,KAFkB,8BAEb,UAAO4B,GAAP,aAEEA,EAASC,UAJE,yDAOJ,QATa,sDAYrBC,EAAqBC,IAE9B,IAAMA,GAAoC,iBAAfA,EACvB,OAAO,EAGX,IAEI,OADAC,KAAKC,MAAMF,IACJ,EACT,MAAOlC,GACL,OAAO,K,+MClDAqC,EAfM,CACjB,CACIC,OAAQ,KACRC,S,WAEJ,CACID,OAAQ,QACRC,S,WAEJ,CACID,OAAQ,KACRC,S,YAIoBC,IACvBC,GAAgBC,qBAAWD,EAAaE,8BC8F9BC,UAtFO,IAAqB,IAArB,OAAEC,EAAF,IAAUC,GAAU,EAChCC,EAAOC,qBACNC,EAAUC,IAASL,EAAO,MAAQ,IAAI3B,MAAM,KAC7CiC,EAAWL,EAAI5B,MAAM,KAAKkC,MAE1BC,EAAWC,kBAAQ,KACrB,IAAMC,EAAUC,EAAcC,KACzBC,GAAaA,EAASpB,SAAWY,GAGtC,OAAKK,GACMC,EAAcC,KAChBC,GAAaA,EAASpB,SAAWS,EAAKY,gBAKhD,CAACZ,EAAKY,cAAeT,KAElB,EAACU,EAAD,EAAiBC,GAAqBC,mBAAS,CAAC,aAChD,MAAEC,EAAF,SAASC,GAAaC,qBAAWC,KAEjCC,EAAgBC,sBAAeX,KAChCY,GAAiBA,EAAaC,gBAAkBnB,EAASmB,eAExDC,EAAUC,YAAiBT,aAAD,EAACA,EAAOU,sBAAwBD,YAAiBT,aAAD,EAACA,EAAOW,YAqCxF,OAnCAC,oBAAU,KACN,IAAMC,EAA8B,8BAAG,YACnC,IAAM1C,QAAmBR,YAAsBuB,GAC1ChB,YAAkBC,IACnB2C,mBAAS,KAGb,IAAMH,EAAavC,KAAKC,MAAMF,GACzBsC,YAAiBE,IAClBG,mBAAS,KAGb,IAAMJ,EAAsBK,YAAe,IAAUJ,IAChDF,YAAiBC,IAClBI,mBAAS,KAGbb,EAASe,YAAcL,IACvBV,EAASgB,YAAuBP,IAChC,IAAMQ,OAlDM9B,IAAa+B,eAAK,IACtC,UAAO,KAAiC/B,EAAxC,UAA0DgC,MAAM,IAC5D,mCAgD2BC,CAAejB,GACtCN,EAAkB,CACd,kBAACoB,EAAD,CACIrF,IAAKyF,cACLC,OAAQb,SAtBgB,qDA2B/BxB,GACD4B,mBAAS,KAGbD,KACD,CAACZ,EAAUjB,EAAKY,cAAeT,EAAMD,EAAUkB,IAG9C,kBAAC,kBAAD,CACIpE,MAAOsD,GAEP,kBAACkC,EAAA,EAAD,CACIC,MAAOnC,EAASoC,cAAc,CAAEC,GAAI,kBACpCC,OAAO,sBAEX,kBAAC7G,EAAA,EAAD,CACIJ,aAAW,GAEV6F,GACG,kBAAC,WAAD,CACIqB,SAAU7C,EAAK0C,cAAc,CAAEC,GAAI,aAElC9B,IAGPW,GAAWxB,EAAK0C,cAAc,CAAEC,GAAI,gB,qBC7GtD,OAOA,WACE,aAEA,IAAIG,EAAS,GAAGC,eAEhB,SAASzG,IAGP,IAFA,IAAIJ,EAAU,GAEL8G,EAAI,EAAGA,EAAItF,UAAUuF,OAAQD,IAAK,CACzC,IAAIlG,EAAMY,UAAUsF,GACpB,GAAKlG,EAAL,CACA,IAAIoG,SAAiBpG,EAErB,GAAgB,WAAZoG,GAAoC,WAAZA,EAC1BhH,EAAQiH,KAAKrG,QACR,GAAIsG,MAAMC,QAAQvG,IACvB,GAAIA,EAAImG,OAAQ,CACd,IAAIK,EAAQhH,EAAWqB,MAAM,KAAMb,GAE/BwG,GACFpH,EAAQiH,KAAKG,SAGZ,GAAgB,WAAZJ,EACT,GAAIpG,EAAIyG,WAAaC,OAAOC,UAAUF,SACpC,IAAK,IAAI1G,KAAOC,EACVgG,EAAOY,KAAK5G,EAAKD,IAAQC,EAAID,IAC/BX,EAAQiH,KAAKtG,QAIjBX,EAAQiH,KAAKrG,EAAIyG,aAKvB,OAAOrH,EAAQyH,KAAK,KAGeC,EAAOC,SAC1CvH,EAAWwH,QAAUxH,EACrBsH,EAAOC,QAAUvH,QAKhB,KAFwB,EAAF,WACrB,OAAOA,GACR,QAFoB,OAEpB,aA9CL,I,qBCPA,IAAImD,EAAM,CACT,kBAAmB,CAClB,OACA,IAED,kBAAmB,CAClB,OACA,IAGF,SAASsE,EAAoBC,GAC5B,IAAIC,EAAoBC,EAAEzE,EAAKuE,GAC9B,OAAO7G,QAAQV,UAAUW,MAAK,WAC7B,IAAI+G,EAAI,IAAIC,MAAM,uBAAyBJ,EAAM,KAEjD,MADAG,EAAEE,KAAO,mBACHF,KAIR,IAAIG,EAAM7E,EAAIuE,GAAMrB,EAAK2B,EAAI,GAC7B,OAAOL,EAAoBE,EAAEG,EAAI,IAAIlH,MAAK,WACzC,OAAO6G,EAAoBtB,MAG7BoB,EAAoBQ,KAAO,WAC1B,OAAOf,OAAOe,KAAK9E,IAEpBsE,EAAoBpB,GAAK,OACzBiB,EAAOC,QAAUE,G","file":"component---src-pages-resume-viewer-jsx-b43cc8e735e265dde8ec.js","sourcesContent":["import React from 'react';\r\nimport classNames from 'classnames';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    a4Container: {\r\n        backgroundColor: theme.palette.background.paper,\r\n        width: '21cm',\r\n        minHeight: '29.7cm',\r\n        '@media print': {\r\n            // backgroundColor: theme.palette.background.paper,\r\n            '-webkit-print-color-adjust': 'exact',\r\n            position: 'absolute',\r\n            top: 0,\r\n            left: 0,\r\n            visibility: 'visible !important',\r\n            '& *': {\r\n                visibility: 'visible !important',\r\n                '& div': {\r\n                    '&:last-child': {\r\n                        borderBottom: 'none',\r\n                    },\r\n                },\r\n            },\r\n        },\r\n    },\r\n    alignCenter: {\r\n        margin: '0 auto',\r\n    },\r\n    alignLeft: {\r\n        marginLeft: 'calc(50% - (11.5cm + 120px))',\r\n        '@media print': {\r\n            margin: '0 auto',\r\n        },\r\n    },\r\n}));\r\n\r\nfunction A4Container({\r\n    children,\r\n    customHeight,\r\n    alignCenter = true,\r\n}) {\r\n    const classes = useStyles();\r\n    let style = {};\r\n\r\n    if (customHeight) {\r\n        style = {\r\n            height: `${customHeight}vh`,\r\n        };\r\n    }\r\n\r\n    return (\r\n        <div\r\n            className={classNames(\r\n                classes.a4Container,\r\n                {\r\n                    [classes.alignCenter]: alignCenter,\r\n                    [classes.alignLeft]: !alignCenter,\r\n                }\r\n            )}\r\n            style={style}\r\n        >\r\n            {children}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default A4Container;\r\n","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}","import {\r\n    LOCALSTORAGE_COOKIE_CONSENT_KEY,\r\n    LOCALSTORAGE_COOKIE_CONSENT_VALUE,\r\n    LOCALSTORAGE_MESSAGE_KEY,\r\n} from './constants';\r\n\r\n// example: snackbar_message_key -> your_comment_submitted:success\r\nexport const setSnackbarMessage = (message, severity) => {\r\n    localStorage.setItem(\r\n        LOCALSTORAGE_MESSAGE_KEY,\r\n        `${message}:${severity}`\r\n    );\r\n};\r\n\r\nexport const getSnackbarMessage = () => {\r\n    // because of the SSR\r\n    if (typeof localStorage === 'undefined') {\r\n        return [];\r\n    }\r\n\r\n    const messageData = localStorage.getItem(LOCALSTORAGE_MESSAGE_KEY);\r\n    if (messageData) {\r\n        return messageData.split(':');\r\n    }\r\n\r\n    return [];\r\n};\r\n\r\nexport const clearSnackbarMessage = () => {\r\n    localStorage.removeItem(LOCALSTORAGE_MESSAGE_KEY);\r\n};\r\n\r\nexport const getCookieConsent = () => {\r\n    // because of the SSR\r\n    if (typeof localStorage === 'undefined') {\r\n        return null;\r\n    }\r\n\r\n    return localStorage.getItem(LOCALSTORAGE_COOKIE_CONSENT_KEY) === LOCALSTORAGE_COOKIE_CONSENT_VALUE;\r\n};\r\n\r\nexport const setCookieConsentSeen = () => {\r\n    localStorage.setItem(\r\n        LOCALSTORAGE_COOKIE_CONSENT_KEY,\r\n        LOCALSTORAGE_COOKIE_CONSENT_VALUE\r\n    );\r\n};\r\n\r\nexport const fetchGithubResumeJson = async (userName) => {\r\n    const url = `https://raw.githubusercontent.com/${userName}/resume.json/main/resume.json`;\r\n    const result = await fetch(url, {\r\n        method: 'GET',\r\n    }).then(async (response) =>\r\n        // eslint-disable-next-line no-return-await\r\n        await response.text());\r\n\r\n    // eslint-disable-next-line no-return-await\r\n    return result || '{}';\r\n};\r\n\r\nexport const isValidJsonString = (jsonString) => {\r\n\r\n    if (!(jsonString && typeof jsonString === 'string')) {\r\n        return false;\r\n    }\r\n\r\n    try {\r\n        JSON.parse(jsonString);\r\n        return true;\r\n    } catch (error) {\r\n        return false;\r\n    }\r\n\r\n};\r\n","import { createIntl, createIntlCache } from 'gatsby-plugin-intl';\r\nimport en from './en.json';\r\nimport ptBr from './pt-br.json';\r\nimport es from './es.json';\r\n\r\nconst translations = [\r\n    {\r\n        locale: 'en',\r\n        messages: en,\r\n    },\r\n    {\r\n        locale: 'pt-br',\r\n        messages: ptBr,\r\n    },\r\n    {\r\n        locale: 'es',\r\n        messages: es,\r\n    },\r\n];\r\n\r\nexport default translations.map(\r\n    (translation) => createIntl(translation, createIntlCache())\r\n);\r\n","/* eslint template-curly-spacing: 0, indent: 0 */\r\n/* globals TEMPLATES_LIST */\r\nimport React, { lazy, Suspense, useContext, useEffect, useMemo, useState } from 'react';\r\nimport { navigate, useIntl, RawIntlProvider } from 'gatsby-plugin-intl';\r\nimport { v4 as uuid } from 'uuid';\r\nimport { cloneDeep } from 'lodash';\r\n\r\n// Components\r\nimport SEO from '../components/SEO';\r\nimport A4Container from '../components/A4Container';\r\n\r\n// Utils\r\nimport { fetchGithubResumeJson, isValidJsonString } from '../utils/gatsby-frontend-helpers';\r\nimport { isObjectNotEmpty, traverseObject } from '../utils/utils';\r\n\r\n// Context\r\nimport { StoreContext } from '../store/StoreProvider';\r\n\r\n// Actions\r\nimport setJsonResume from '../store/actions/setJsonResume';\r\nimport setTogglableJsonResume from '../store/actions/setTogglableJsonResume';\r\n\r\n// Translations\r\nimport templateIntls from '../intl';\r\n\r\nconst importTemplate = (template) => lazy(() =>\r\n    import(`../components/ResumeTemplates/${template}/Index`).catch(() =>\r\n        import('../components/ResumeTemplates/Default/Index')));\r\n\r\nconst ResumeViewer = ({ params, uri }) => {\r\n    const intl = useIntl();\r\n    const [username, lang] = (params['*'] || '').split('/'); // TODO\r\n    const template = uri.split('/').pop(); // TODO\r\n\r\n    const pageIntl = useMemo(() => {\r\n        const newIntl = templateIntls.find(\r\n            (tempIntl) => tempIntl.locale === lang\r\n        );\r\n\r\n        if (!newIntl) {\r\n            return templateIntls.find(\r\n                (tempIntl) => tempIntl.locale === intl.defaultLocale\r\n            );\r\n        }\r\n\r\n        return newIntl;\r\n    }, [intl.defaultLocale, lang]);\r\n\r\n    const [resumeTemplate, setResumeTemplate] = useState(['Default']);\r\n    const { state, dispatch } = useContext(StoreContext);\r\n\r\n    const validTemplate = TEMPLATES_LIST.find(\r\n        (templateName) => templateName.toLowerCase() === template.toLowerCase()\r\n    );\r\n    const hasData = isObjectNotEmpty(state?.togglableJsonResume) && isObjectNotEmpty(state?.jsonResume);\r\n\r\n    useEffect(() => {\r\n        const fetchResumeJsonAndLoadTemplate = async () => {\r\n            const jsonString = await fetchGithubResumeJson(username);\r\n            if (!isValidJsonString(jsonString)) {\r\n                navigate('/');\r\n            }\r\n\r\n            const jsonResume = JSON.parse(jsonString);\r\n            if (!isObjectNotEmpty(jsonResume)) {\r\n                navigate('/');\r\n            }\r\n\r\n            const togglableJsonResume = traverseObject(cloneDeep(jsonResume));\r\n            if (!isObjectNotEmpty(togglableJsonResume)) {\r\n                navigate('/');\r\n            }\r\n\r\n            dispatch(setJsonResume(jsonResume));\r\n            dispatch(setTogglableJsonResume(togglableJsonResume));\r\n            const Template = await importTemplate(validTemplate);\r\n            setResumeTemplate([\r\n                <Template\r\n                    key={uuid()}\r\n                    resume={togglableJsonResume}\r\n                />,\r\n            ]);\r\n        };\r\n\r\n        if (!username) {\r\n            navigate('/');\r\n        }\r\n\r\n        fetchResumeJsonAndLoadTemplate();\r\n    }, [dispatch, intl.defaultLocale, lang, username, validTemplate]);\r\n\r\n    return (\r\n        <RawIntlProvider\r\n            value={pageIntl}\r\n        >\r\n            <SEO\r\n                title={pageIntl.formatMessage({ id: 'resume_viewer' })}\r\n                robots=\"noindex, nofollow\"\r\n            />\r\n            <A4Container\r\n                alignCenter\r\n            >\r\n                {hasData && (\r\n                    <Suspense\r\n                        fallback={intl.formatMessage({ id: 'loading' })}\r\n                    >\r\n                        {resumeTemplate}\r\n                    </Suspense>\r\n                )}\r\n                {!hasData && intl.formatMessage({ id: 'loading' })}\r\n            </A4Container>\r\n        </RawIntlProvider>\r\n    );\r\n};\r\n\r\nexport default ResumeViewer;\r\n","/*!\n  Copyright (c) 2018 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n\n/* global define */\n(function () {\n  'use strict';\n\n  var hasOwn = {}.hasOwnProperty;\n\n  function classNames() {\n    var classes = [];\n\n    for (var i = 0; i < arguments.length; i++) {\n      var arg = arguments[i];\n      if (!arg) continue;\n      var argType = typeof arg;\n\n      if (argType === 'string' || argType === 'number') {\n        classes.push(arg);\n      } else if (Array.isArray(arg)) {\n        if (arg.length) {\n          var inner = classNames.apply(null, arg);\n\n          if (inner) {\n            classes.push(inner);\n          }\n        }\n      } else if (argType === 'object') {\n        if (arg.toString === Object.prototype.toString) {\n          for (var key in arg) {\n            if (hasOwn.call(arg, key) && arg[key]) {\n              classes.push(key);\n            }\n          }\n        } else {\n          classes.push(arg.toString());\n        }\n      }\n    }\n\n    return classes.join(' ');\n  }\n\n  if (typeof module !== 'undefined' && module.exports) {\n    classNames.default = classNames;\n    module.exports = classNames;\n  } else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n    // register as 'classnames', consistent with npm package name\n    define('classnames', [], function () {\n      return classNames;\n    });\n  } else {\n    window.classNames = classNames;\n  }\n})();","var map = {\n\t\"./Compact/Index\": [\n\t\t\"rABk\",\n\t\t19\n\t],\n\t\"./Default/Index\": [\n\t\t\"8/2X\",\n\t\t1\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = \"bjeo\";\nmodule.exports = webpackAsyncContext;"],"sourceRoot":""}